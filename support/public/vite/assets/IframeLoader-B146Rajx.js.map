{"version":3,"file":"IframeLoader-B146Rajx.js","sources":["../../../app/javascript/shared/components/ArticleSkeletonLoader.vue","../../../app/javascript/shared/components/IframeLoader.vue"],"sourcesContent":["<template>\n  <div class=\"p-4 space-y-6 bg-white dark:bg-slate-900\">\n    <div class=\"space-y-2 animate-loader-pulse\">\n      <div class=\"h-6 bg-slate-100 dark:bg-slate-700 rounded w-1/5\" />\n      <div class=\"h-10 bg-slate-100 dark:bg-slate-700 rounded w-3/5\" />\n    </div>\n    <div class=\"space-y-2 animate-loader-pulse\">\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded w-4/5\" />\n    </div>\n    <div class=\"space-y-2 animate-loader-pulse\">\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded w-3/5\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n    </div>\n    <div class=\"space-y-2 animate-loader-pulse\">\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded\" />\n      <div class=\"h-5 bg-slate-100 dark:bg-slate-700 rounded w-3/5\" />\n    </div>\n  </div>\n</template>\n","<script>\nimport ArticleSkeletonLoader from 'shared/components/ArticleSkeletonLoader.vue';\n\nexport default {\n  name: 'IframeLoader',\n  components: {\n    ArticleSkeletonLoader,\n  },\n  props: {\n    url: {\n      type: String,\n      default: '',\n    },\n    isRtl: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      isLoading: true,\n      showEmptyState: !this.url,\n    };\n  },\n  watch: {\n    isRtl: {\n      immediate: true,\n      handler(value) {\n        this.$nextTick(() => {\n          const iframeElement = this.$el.querySelector('iframe');\n          if (iframeElement) {\n            iframeElement.onload = () => {\n              try {\n                const iframeDocument =\n                  iframeElement.contentDocument ||\n                  (iframeElement.contentWindow &&\n                    iframeElement.contentWindow.document);\n\n                if (iframeDocument) {\n                  iframeDocument.documentElement.dir = value ? 'rtl' : 'ltr';\n                }\n              } catch (e) {\n                // error\n              }\n            };\n          }\n        });\n      },\n    },\n  },\n  methods: {\n    handleIframeLoad() {\n      // Once loaded, the loading state is hidden\n      this.isLoading = false;\n    },\n    handleIframeError() {\n      // Hide the loading state and show the empty state when an error occurs\n      this.isLoading = false;\n      this.showEmptyState = true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"relative overflow-hidden pb-1/2 h-full\">\n    <iframe\n      v-if=\"url\"\n      :src=\"url\"\n      class=\"absolute w-full h-full top-0 left-0\"\n      @load=\"handleIframeLoad\"\n      @error=\"handleIframeError\"\n    />\n    <ArticleSkeletonLoader\n      v-if=\"isLoading\"\n      class=\"absolute w-full h-full top-0 left-0\"\n    />\n    <div\n      v-if=\"showEmptyState\"\n      class=\"absolute w-full h-full top-0 left-0 flex justify-center items-center\"\n    >\n      <p>{{ $t('PORTAL.IFRAME_ERROR') }}</p>\n    </div>\n  </div>\n</template>\n"],"names":["_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_1","_sfc_main","ArticleSkeletonLoader","value","iframeElement","iframeDocument","_hoisted_2","$props","$options","args","_createCommentVNode","$data","_createBlock","_component_ArticleSkeletonLoader","_hoisted_3","_createElementVNode"],"mappings":"qLACE,SAAAA,EAAAC,EAAAC,EAAA,CADF,OAAAC,EAAA,EAAAC,EAAA,MAAAC,EAAAH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,mnCCGKI,EAAU,CACb,KAAM,eACN,WAAY,CACV,sBAAAC,CACD,EACD,MAAO,CACL,IAAK,CACH,KAAM,OACN,QAAS,EACV,EACD,MAAO,CACL,KAAM,QACN,QAAS,EACV,CACF,EACD,MAAO,CACL,MAAO,CACL,UAAW,GACX,eAAgB,CAAC,KAAK,GACvB,CACF,EACD,MAAO,CACL,MAAO,CACL,UAAW,GACX,QAAQC,EAAO,CACb,KAAK,UAAU,IAAM,CACnB,MAAMC,EAAgB,KAAK,IAAI,cAAc,QAAQ,EACjDA,IACFA,EAAc,OAAS,IAAM,CAC3B,GAAI,CACF,MAAMC,EACJD,EAAc,iBACbA,EAAc,eACbA,EAAc,cAAc,SAE5BC,IACFA,EAAe,gBAAgB,IAAMF,EAAQ,MAAQ,MAEzD,MAAY,CAEZ,CACD,EAEL,CAAC,CACF,CACF,CACF,EACD,QAAS,CACP,kBAAmB,CAEjB,KAAK,UAAY,EAClB,EACD,mBAAoB,CAElB,KAAK,UAAY,GACjB,KAAK,eAAiB,EACvB,CACF,CACH,EAIOH,EAAA,CAAA,MAAM,wCAAwC,EAjErDM,EAAA,CAAA,KAAA,KAAA,IAAA,EA+EM,MAAM,mIAdV,OAAAR,EAAA,EAAAC,EAkBM,MAlBNC,EAkBM,CAhBIO,EAAG,SADXR,EAME,SAAA,CAxEN,IAAA,EAoEO,IAAKQ,EAAG,IACT,MAAM,sCACL,2BAAMC,EAAgB,kBAAAA,EAAA,iBAAA,GAAAC,CAAA,GACtB,4BAAOD,EAAiB,mBAAAA,EAAA,kBAAA,GAAAC,CAAA,EAvE/B,EAAA,KAAA,GAAAH,CAAA,GAAAI,EAAA,GAAA,EAAA,EA0EYC,EAAS,eADjBC,EAGEC,EAAA,CA5EN,IAAA,EA2EM,MAAM,yCA3EZH,EAAA,GAAA,EAAA,EA8EYC,EAAc,gBADtBb,IAAAC,EAKM,MALNe,EAKM,CADJC,EAAsC,WAAhCnB,EAAE,GAAA,qBAAA,CAAA,EAAA,CAAA,KAjFdc,EAAA,GAAA,EAAA"}