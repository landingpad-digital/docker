{"version":3,"file":"PortalsSettingsIndexPage-YHQYNQkq.js","sources":["../../../app/javascript/dashboard/components-next/colorpicker/ColorPicker.vue","../../../app/javascript/dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/PortalBaseSettings.vue","../../../app/javascript/dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/AddCustomDomainDialog.vue","../../../app/javascript/dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/DNSConfigurationDialog.vue","../../../app/javascript/dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/PortalConfigurationSettings.vue","../../../app/javascript/dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/ConfirmDeletePortalDialog.vue","../../../app/javascript/dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/PortalSettings.vue","../../../app/javascript/dashboard/routes/dashboard/helpcenter/pages/PortalsSettingsIndexPage.vue"],"sourcesContent":["<script setup>\nimport { ref, defineProps, defineEmits } from 'vue';\nimport { Chrome } from '@lk77/vue3-color';\nimport { OnClickOutside } from '@vueuse/components';\n\nimport Button from 'dashboard/components-next/button/Button.vue';\n\ndefineProps({\n  modelValue: {\n    type: String,\n    default: '',\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst isPickerOpen = ref(false);\n\nconst toggleColorPicker = () => {\n  isPickerOpen.value = !isPickerOpen.value;\n};\n\nconst closeTogglePicker = () => {\n  if (isPickerOpen.value) {\n    toggleColorPicker();\n  }\n};\n\nconst updateColor = e => {\n  emit('update:modelValue', e.hex);\n};\n\nconst pickerRef = ref(null);\n</script>\n\n<template>\n  <div ref=\"pickerRef\" class=\"relative w-fit\">\n    <OnClickOutside @trigger=\"closeTogglePicker\">\n      <Button\n        color=\"slate\"\n        icon=\"i-lucide-pipette\"\n        trailing-icon\n        class=\"!px-3 !py-3 [&>svg]:w-4 [&>svg]:h-4\"\n        @click=\"toggleColorPicker\"\n      >\n        <div class=\"flex items-center flex-grow gap-2\">\n          <span\n            class=\"rounded-md size-4\"\n            :style=\"{ backgroundColor: modelValue }\"\n          />\n          <span class=\"min-w-0 truncate\">{{ modelValue }}</span>\n        </div>\n      </Button>\n      <Chrome\n        v-if=\"isPickerOpen\"\n        disable-alpha\n        :model-value=\"modelValue\"\n        class=\"colorpicker--chrome\"\n        @update:model-value=\"updateColor\"\n      />\n    </OnClickOutside>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.colorpicker--chrome.vc-chrome {\n  @apply shadow-lg absolute bg-n-background z-[9999] border border-n-weak dark:border-n-weak rounded-[8px];\n\n  :deep() {\n    .vc-chrome-saturation-wrap {\n      @apply rounded-t-[7px];\n\n      .vc-saturation {\n        @apply rounded-t-[8px];\n      }\n    }\n\n    .vc-chrome-body {\n      @apply rounded-b-[7px] bg-n-alpha-3;\n\n      .vc-chrome-toggle-btn {\n        .vc-chrome-toggle-icon svg {\n          @apply [&>path]:fill-n-slate-10 dark:[&>path]:fill-n-slate-10 left-3 relative;\n        }\n        .vc-chrome-toggle-icon-highlight {\n          @apply bg-n-background;\n        }\n      }\n    }\n\n    input,\n    .vc-input__input {\n      @apply bg-n-background text-slate-900 dark:text-slate-50 rounded-md shadow-none;\n    }\n\n    .vc-input__label {\n      @apply text-n-slate-11 dark:text-n-slate-11;\n    }\n  }\n}\n</style>\n","<script setup>\nimport { reactive, watch, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { buildPortalURL } from 'dashboard/helper/portalHelper';\nimport { useAlert } from 'dashboard/composables';\nimport { useStore, useStoreGetters } from 'dashboard/composables/store';\nimport { uploadFile } from 'dashboard/helper/uploadHelper';\nimport { checkFileSizeLimit } from 'shared/helpers/FileHelper';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, minLength, helpers } from '@vuelidate/validators';\nimport { shouldBeUrl, isValidSlug } from 'shared/helpers/Validators';\n\nimport Button from 'dashboard/components-next/button/Button.vue';\nimport Input from 'dashboard/components-next/input/Input.vue';\nimport Avatar from 'dashboard/components-next/avatar/Avatar.vue';\nimport ComboBox from 'dashboard/components-next/combobox/ComboBox.vue';\nimport ColorPicker from 'dashboard/components-next/colorpicker/ColorPicker.vue';\n\nconst props = defineProps({\n  activePortal: {\n    type: Object,\n    required: true,\n  },\n  isFetching: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['updatePortal']);\n\nconst { t } = useI18n();\nconst store = useStore();\nconst getters = useStoreGetters();\n\nconst MAXIMUM_FILE_UPLOAD_SIZE = 4; // in MB\n\nconst state = reactive({\n  name: '',\n  headerText: '',\n  pageTitle: '',\n  slug: '',\n  widgetColor: '',\n  homePageLink: '',\n  liveChatWidgetInboxId: '',\n  logoUrl: '',\n  avatarBlobId: '',\n});\n\nconst originalState = reactive({ ...state });\n\nconst liveChatWidgets = computed(() => {\n  const inboxes = store.getters['inboxes/getInboxes'];\n  return inboxes\n    .filter(inbox => inbox.channel_type === 'Channel::WebWidget')\n    .map(inbox => ({\n      value: inbox.id,\n      label: inbox.name,\n    }));\n});\n\nconst rules = {\n  name: { required, minLength: minLength(2) },\n  slug: {\n    required: helpers.withMessage(\n      () => t('HELP_CENTER.CREATE_PORTAL_DIALOG.SLUG.ERROR'),\n      required\n    ),\n    isValidSlug: helpers.withMessage(\n      () => t('HELP_CENTER.CREATE_PORTAL_DIALOG.SLUG.FORMAT_ERROR'),\n      isValidSlug\n    ),\n  },\n  homePageLink: { shouldBeUrl },\n};\n\nconst v$ = useVuelidate(rules, state);\n\nconst nameError = computed(() =>\n  v$.value.name.$error ? t('HELP_CENTER.CREATE_PORTAL_DIALOG.NAME.ERROR') : ''\n);\n\nconst slugError = computed(() => {\n  return v$.value.slug.$errors[0]?.$message || '';\n});\n\nconst homePageLinkError = computed(() =>\n  v$.value.homePageLink.$error\n    ? t('HELP_CENTER.PORTAL_SETTINGS.FORM.HOME_PAGE_LINK.ERROR')\n    : ''\n);\n\nconst isUpdatingPortal = computed(() => {\n  const slug = props.activePortal?.slug;\n  if (slug) return getters['portals/uiFlagsIn'].value(slug)?.isUpdating;\n\n  return false;\n});\n\nwatch(\n  () => props.activePortal,\n  newVal => {\n    if (newVal && !props.isFetching) {\n      Object.assign(state, {\n        name: newVal.name,\n        headerText: newVal.header_text,\n        pageTitle: newVal.page_title,\n        widgetColor: newVal.color,\n        homePageLink: newVal.homepage_link,\n        slug: newVal.slug,\n        liveChatWidgetInboxId: newVal.inbox?.id,\n      });\n      if (newVal.logo) {\n        const {\n          logo: { file_url: logoURL, blob_id: blobId },\n        } = newVal;\n        state.logoUrl = logoURL;\n        state.avatarBlobId = blobId;\n      } else {\n        state.logoUrl = '';\n        state.avatarBlobId = '';\n      }\n      Object.assign(originalState, state);\n    }\n  },\n  { immediate: true, deep: true }\n);\n\nconst hasChanges = computed(() => {\n  return JSON.stringify(state) !== JSON.stringify(originalState);\n});\n\nconst handleUpdatePortal = () => {\n  const portal = {\n    id: props.activePortal?.id,\n    slug: state.slug,\n    name: state.name,\n    color: state.widgetColor,\n    page_title: state.pageTitle,\n    header_text: state.headerText,\n    homepage_link: state.homePageLink,\n    blob_id: state.avatarBlobId,\n    inbox_id: state.liveChatWidgetInboxId,\n  };\n  emit('updatePortal', portal);\n};\n\nasync function uploadLogoToStorage({ file }) {\n  try {\n    const { fileUrl, blobId } = await uploadFile(file);\n    if (fileUrl) {\n      state.logoUrl = fileUrl;\n      state.avatarBlobId = blobId;\n    }\n    useAlert(t('HELP_CENTER.PORTAL_SETTINGS.FORM.AVATAR.IMAGE_UPLOAD_SUCCESS'));\n  } catch (error) {\n    useAlert(t('HELP_CENTER.PORTAL_SETTINGS.FORM.AVATAR.IMAGE_UPLOAD_ERROR'));\n  }\n}\n\nasync function deleteLogo() {\n  try {\n    const portalSlug = props.activePortal?.slug;\n    await store.dispatch('portals/deleteLogo', {\n      portalSlug,\n    });\n    useAlert(t('HELP_CENTER.PORTAL_SETTINGS.FORM.AVATAR.IMAGE_DELETE_SUCCESS'));\n  } catch (error) {\n    useAlert(\n      error?.message ||\n        t('HELP_CENTER.PORTAL_SETTINGS.FORM.AVATAR.IMAGE_DELETE_ERROR')\n    );\n  }\n}\n\nconst handleAvatarUpload = file => {\n  if (checkFileSizeLimit(file, MAXIMUM_FILE_UPLOAD_SIZE)) {\n    uploadLogoToStorage(file);\n  } else {\n    const errorKey =\n      'HELP_CENTER.PORTAL_SETTINGS.FORM.AVATAR.IMAGE_UPLOAD_SIZE_ERROR';\n    useAlert(t(errorKey, { size: MAXIMUM_FILE_UPLOAD_SIZE }));\n  }\n};\n\nconst handleAvatarDelete = () => {\n  state.logoUrl = '';\n  state.avatarBlobId = '';\n  deleteLogo();\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col w-full gap-4\">\n    <div class=\"flex flex-col w-full gap-2\">\n      <label class=\"mb-0.5 text-sm font-medium text-gray-900 dark:text-gray-50\">\n        {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.AVATAR.LABEL') }}\n      </label>\n      <Avatar\n        :src=\"state.logoUrl\"\n        :name=\"state.name\"\n        :size=\"72\"\n        allow-upload\n        icon-name=\"i-lucide-building-2\"\n        @upload=\"handleAvatarUpload\"\n        @delete=\"handleAvatarDelete\"\n      />\n    </div>\n    <div class=\"flex flex-col w-full gap-4\">\n      <div\n        class=\"grid items-start justify-between w-full gap-2 grid-cols-[200px,1fr]\"\n      >\n        <label\n          class=\"text-sm font-medium whitespace-nowrap py-2.5 text-slate-900 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.NAME.LABEL') }}\n        </label>\n        <Input\n          v-model=\"state.name\"\n          :placeholder=\"t('HELP_CENTER.PORTAL_SETTINGS.FORM.NAME.PLACEHOLDER')\"\n          :message-type=\"nameError ? 'error' : 'info'\"\n          :message=\"nameError\"\n          custom-input-class=\"!bg-transparent dark:!bg-transparent\"\n          @input=\"v$.name.$touch()\"\n          @blur=\"v$.name.$touch()\"\n        />\n      </div>\n      <div\n        class=\"grid items-start justify-between w-full gap-2 grid-cols-[200px,1fr]\"\n      >\n        <label\n          class=\"text-sm font-medium whitespace-nowrap py-2.5 text-slate-900 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.HEADER_TEXT.LABEL') }}\n        </label>\n        <Input\n          v-model=\"state.headerText\"\n          :placeholder=\"\n            t('HELP_CENTER.PORTAL_SETTINGS.FORM.HEADER_TEXT.PLACEHOLDER')\n          \"\n          custom-input-class=\"!bg-transparent dark:!bg-transparent\"\n        />\n      </div>\n      <div\n        class=\"grid items-start justify-between w-full gap-2 grid-cols-[200px,1fr]\"\n      >\n        <label\n          class=\"text-sm font-medium whitespace-nowrap text-slate-900 py-2.5 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.PAGE_TITLE.LABEL') }}\n        </label>\n        <Input\n          v-model=\"state.pageTitle\"\n          :placeholder=\"\n            t('HELP_CENTER.PORTAL_SETTINGS.FORM.PAGE_TITLE.PLACEHOLDER')\n          \"\n          custom-input-class=\"!bg-transparent dark:!bg-transparent\"\n        />\n      </div>\n      <div\n        class=\"grid items-start justify-between w-full gap-2 grid-cols-[200px,1fr]\"\n      >\n        <label\n          class=\"text-sm font-medium whitespace-nowrap text-slate-900 py-2.5 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.HOME_PAGE_LINK.LABEL') }}\n        </label>\n        <Input\n          v-model=\"state.homePageLink\"\n          :placeholder=\"\n            t('HELP_CENTER.PORTAL_SETTINGS.FORM.HOME_PAGE_LINK.PLACEHOLDER')\n          \"\n          :message-type=\"homePageLinkError ? 'error' : 'info'\"\n          :message=\"homePageLinkError\"\n          custom-input-class=\"!bg-transparent dark:!bg-transparent\"\n          @input=\"v$.homePageLink.$touch()\"\n          @blur=\"v$.homePageLink.$touch()\"\n        />\n      </div>\n      <div\n        class=\"grid items-start justify-between w-full gap-2 grid-cols-[200px,1fr]\"\n      >\n        <label\n          class=\"text-sm font-medium whitespace-nowrap py-2.5 text-slate-900 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.SLUG.LABEL') }}\n        </label>\n        <Input\n          v-model=\"state.slug\"\n          :placeholder=\"t('HELP_CENTER.PORTAL_SETTINGS.FORM.SLUG.PLACEHOLDER')\"\n          :message-type=\"slugError ? 'error' : 'info'\"\n          :message=\"slugError || buildPortalURL(state.slug)\"\n          custom-input-class=\"!bg-transparent dark:!bg-transparent\"\n          @input=\"v$.slug.$touch()\"\n          @blur=\"v$.slug.$touch()\"\n        />\n      </div>\n      <div\n        class=\"grid items-start justify-between w-full gap-2 grid-cols-[200px,1fr]\"\n      >\n        <label\n          class=\"text-sm font-medium whitespace-nowrap py-2.5 text-slate-900 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.LIVE_CHAT_WIDGET.LABEL') }}\n        </label>\n        <ComboBox\n          v-model=\"state.liveChatWidgetInboxId\"\n          :options=\"liveChatWidgets\"\n          :placeholder=\"\n            t('HELP_CENTER.PORTAL_SETTINGS.FORM.LIVE_CHAT_WIDGET.PLACEHOLDER')\n          \"\n          :message=\"\n            t('HELP_CENTER.PORTAL_SETTINGS.FORM.LIVE_CHAT_WIDGET.HELP_TEXT')\n          \"\n          class=\"[&>div>button:not(.focused)]:!outline-n-weak\"\n        />\n      </div>\n      <div class=\"flex items-start justify-between w-full gap-2\">\n        <label\n          class=\"text-sm font-medium whitespace-nowrap py-2.5 text-slate-900 dark:text-slate-50\"\n        >\n          {{ t('HELP_CENTER.PORTAL_SETTINGS.FORM.BRAND_COLOR.LABEL') }}\n        </label>\n        <div class=\"w-[432px] justify-start\">\n          <ColorPicker v-model=\"state.widgetColor\" />\n        </div>\n      </div>\n      <div class=\"flex justify-end w-full gap-2\">\n        <Button\n          :label=\"t('HELP_CENTER.PORTAL_SETTINGS.FORM.SAVE_CHANGES')\"\n          :disabled=\"!hasChanges || isUpdatingPortal || v$.$invalid\"\n          :is-loading=\"isUpdatingPortal\"\n          @click=\"handleUpdatePortal\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup>\nimport { ref, reactive, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport Dialog from 'dashboard/components-next/dialog/Dialog.vue';\nimport Input from 'dashboard/components-next/input/Input.vue';\n\nconst props = defineProps({\n  mode: {\n    type: String,\n    default: 'add',\n  },\n  customDomain: {\n    type: String,\n    default: '',\n  },\n});\n\nconst emit = defineEmits(['addCustomDomain']);\n\nconst { t } = useI18n();\n\nconst dialogRef = ref(null);\n\nconst formState = reactive({\n  customDomain: props.customDomain,\n});\n\nwatch(\n  () => props.customDomain,\n  newVal => {\n    formState.customDomain = newVal;\n  }\n);\n\nconst handleDialogConfirm = () => {\n  emit('addCustomDomain', formState.customDomain);\n};\n\ndefineExpose({ dialogRef });\n</script>\n\n<template>\n  <Dialog\n    ref=\"dialogRef\"\n    :title=\"\n      t(\n        `HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DIALOG.${props.mode.toUpperCase()}_HEADER`\n      )\n    \"\n    :confirm-button-label=\"\n      t(\n        `HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DIALOG.${props.mode.toUpperCase()}_CONFIRM_BUTTON_LABEL`\n      )\n    \"\n    @confirm=\"handleDialogConfirm\"\n  >\n    <Input\n      v-model=\"formState.customDomain\"\n      :label=\"\n        t(\n          'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DIALOG.LABEL'\n        )\n      \"\n      :placeholder=\"\n        t(\n          'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DIALOG.PLACEHOLDER'\n        )\n      \"\n    />\n  </Dialog>\n</template>\n","<script setup>\nimport { ref, computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { getHostNameFromURL } from 'dashboard/helper/URLHelper';\n\nimport Dialog from 'dashboard/components-next/dialog/Dialog.vue';\n\nconst props = defineProps({\n  customDomain: {\n    type: String,\n    default: '',\n  },\n});\n\nconst emit = defineEmits(['confirm']);\n\nconst { t } = useI18n();\n\nconst domain = computed(() => {\n  const { hostURL, helpCenterURL } = window?.chatwootConfig || {};\n  return getHostNameFromURL(helpCenterURL) || getHostNameFromURL(hostURL) || '';\n});\n\nconst subdomainCNAME = computed(\n  () => `${props.customDomain} CNAME ${domain.value}`\n);\n\nconst dialogRef = ref(null);\n\nconst handleDialogConfirm = () => {\n  emit('confirm');\n};\n\ndefineExpose({ dialogRef });\n</script>\n\n<template>\n  <Dialog\n    ref=\"dialogRef\"\n    :title=\"\n      t(\n        'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DNS_CONFIGURATION_DIALOG.HEADER'\n      )\n    \"\n    :confirm-button-label=\"\n      t(\n        'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DNS_CONFIGURATION_DIALOG.CONFIRM_BUTTON_LABEL'\n      )\n    \"\n    :show-cancel-button=\"false\"\n    @confirm=\"handleDialogConfirm\"\n  >\n    <template #description>\n      <p class=\"mb-0 text-sm text-n-slate-12\">\n        {{\n          t(\n            'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DNS_CONFIGURATION_DIALOG.DESCRIPTION'\n          )\n        }}\n      </p>\n    </template>\n\n    <div class=\"flex flex-col gap-6\">\n      <span\n        class=\"h-10 px-3 py-2.5 text-sm select-none bg-transparent border rounded-lg text-n-slate-11 border-n-strong\"\n      >\n        {{ subdomainCNAME }}\n      </span>\n      <p class=\"text-sm text-n-slate-12\">\n        {{\n          t(\n            'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DNS_CONFIGURATION_DIALOG.HELP_TEXT'\n          )\n        }}\n      </p>\n    </div>\n  </Dialog>\n</template>\n","<script setup>\nimport { computed, ref } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport AddCustomDomainDialog from 'dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/AddCustomDomainDialog.vue';\nimport DNSConfigurationDialog from 'dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/DNSConfigurationDialog.vue';\nimport Button from 'dashboard/components-next/button/Button.vue';\n\nconst props = defineProps({\n  activePortal: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst emit = defineEmits(['updatePortalConfiguration']);\n\nconst { t } = useI18n();\n\nconst addCustomDomainDialogRef = ref(null);\nconst dnsConfigurationDialogRef = ref(null);\nconst updatedDomainAddress = ref('');\n\nconst customDomainAddress = computed(\n  () => props.activePortal?.custom_domain || ''\n);\n\nconst updatePortalConfiguration = customDomain => {\n  const portal = {\n    id: props.activePortal?.id,\n    custom_domain: customDomain,\n  };\n  emit('updatePortalConfiguration', portal);\n  addCustomDomainDialogRef.value.dialogRef.close();\n  if (customDomain) {\n    updatedDomainAddress.value = customDomain;\n    dnsConfigurationDialogRef.value.dialogRef.open();\n  }\n};\n\nconst closeDNSConfigurationDialog = () => {\n  updatedDomainAddress.value = '';\n  dnsConfigurationDialogRef.value.dialogRef.close();\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col w-full gap-6\">\n    <div class=\"flex flex-col gap-2\">\n      <h6 class=\"text-base font-medium text-n-slate-12\">\n        {{\n          t(\n            'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.HEADER'\n          )\n        }}\n      </h6>\n      <span class=\"text-sm text-n-slate-11\">\n        {{\n          t(\n            'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.DESCRIPTION'\n          )\n        }}\n      </span>\n    </div>\n    <div class=\"flex flex-col w-full gap-4\">\n      <div class=\"flex justify-between w-full gap-2\">\n        <div\n          v-if=\"customDomainAddress\"\n          class=\"flex items-center w-full h-8 gap-4\"\n        >\n          <label class=\"text-sm font-medium text-n-slate-12\">\n            {{\n              t(\n                'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.LABEL'\n              )\n            }}\n          </label>\n          <span class=\"text-sm text-n-slate-12\">\n            {{ customDomainAddress }}\n          </span>\n        </div>\n        <div class=\"flex items-center justify-end w-full\">\n          <Button\n            v-if=\"customDomainAddress\"\n            color=\"slate\"\n            :label=\"\n              t(\n                'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.EDIT_BUTTON'\n              )\n            \"\n            @click=\"addCustomDomainDialogRef.dialogRef.open()\"\n          />\n          <Button\n            v-else\n            :label=\"\n              t(\n                'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.CUSTOM_DOMAIN.ADD_BUTTON'\n              )\n            \"\n            color=\"slate\"\n            @click=\"addCustomDomainDialogRef.dialogRef.open()\"\n          />\n        </div>\n      </div>\n    </div>\n    <AddCustomDomainDialog\n      ref=\"addCustomDomainDialogRef\"\n      :mode=\"customDomainAddress ? 'edit' : 'add'\"\n      :custom-domain=\"customDomainAddress\"\n      @add-custom-domain=\"updatePortalConfiguration\"\n    />\n    <DNSConfigurationDialog\n      ref=\"dnsConfigurationDialogRef\"\n      :custom-domain=\"updatedDomainAddress || customDomainAddress\"\n      @confirm=\"closeDNSConfigurationDialog\"\n    />\n  </div>\n</template>\n","<script setup>\nimport { ref } from 'vue';\nimport { useI18n } from 'vue-i18n';\n\nimport Dialog from 'dashboard/components-next/dialog/Dialog.vue';\n\ndefineProps({\n  activePortalName: {\n    type: String,\n    required: true,\n  },\n});\n\nconst emit = defineEmits(['deletePortal']);\n\nconst { t } = useI18n();\n\nconst dialogRef = ref(null);\n\nconst handleDialogConfirm = () => {\n  emit('deletePortal');\n};\n\ndefineExpose({ dialogRef });\n</script>\n\n<template>\n  <Dialog\n    ref=\"dialogRef\"\n    type=\"alert\"\n    :title=\"\n      t(\n        'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.DELETE_PORTAL.DIALOG.HEADER',\n        {\n          portalName: activePortalName,\n        }\n      )\n    \"\n    :description=\"\n      t(\n        'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.DELETE_PORTAL.DIALOG.DESCRIPTION'\n      )\n    \"\n    :confirm-button-label=\"\n      t(\n        'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.DELETE_PORTAL.DIALOG.CONFIRM_BUTTON_LABEL'\n      )\n    \"\n    @confirm=\"handleDialogConfirm\"\n  />\n</template>\n","<script setup>\nimport { computed, ref } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useI18n } from 'vue-i18n';\nimport { useMapGetter } from 'dashboard/composables/store.js';\n\nimport HelpCenterLayout from 'dashboard/components-next/HelpCenter/HelpCenterLayout.vue';\nimport PortalBaseSettings from 'dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/PortalBaseSettings.vue';\nimport PortalConfigurationSettings from './PortalConfigurationSettings.vue';\nimport ConfirmDeletePortalDialog from 'dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/ConfirmDeletePortalDialog.vue';\nimport Spinner from 'dashboard/components-next/spinner/Spinner.vue';\nimport Button from 'dashboard/components-next/button/Button.vue';\n\nconst props = defineProps({\n  portals: {\n    type: Array,\n    required: true,\n  },\n  isFetching: {\n    type: Boolean,\n    required: true,\n  },\n});\n\nconst emit = defineEmits([\n  'updatePortal',\n  'updatePortalConfiguration',\n  'deletePortal',\n]);\n\nconst { t } = useI18n();\nconst route = useRoute();\n\nconst confirmDeletePortalDialogRef = ref(null);\n\nconst currentPortalSlug = computed(() => route.params.portalSlug);\n\nconst isSwitchingPortal = useMapGetter('portals/isSwitchingPortal');\n\nconst activePortal = computed(() => {\n  return props.portals?.find(portal => portal.slug === currentPortalSlug.value);\n});\n\nconst activePortalName = computed(() => activePortal.value?.name || '');\n\nconst isLoading = computed(() => props.isFetching || isSwitchingPortal.value);\n\nconst handleUpdatePortal = portal => {\n  emit('updatePortal', portal);\n};\n\nconst handleUpdatePortalConfiguration = portal => {\n  emit('updatePortalConfiguration', portal);\n};\n\nconst openConfirmDeletePortalDialog = () => {\n  confirmDeletePortalDialogRef.value.dialogRef.open();\n};\n\nconst handleDeletePortal = () => {\n  emit('deletePortal', activePortal.value);\n  confirmDeletePortalDialogRef.value.dialogRef.close();\n};\n</script>\n\n<template>\n  <HelpCenterLayout :show-pagination-footer=\"false\">\n    <template #content>\n      <div\n        v-if=\"isLoading\"\n        class=\"flex items-center justify-center py-10 pt-2 pb-8 text-n-slate-11\"\n      >\n        <Spinner />\n      </div>\n      <div\n        v-else-if=\"activePortal\"\n        class=\"flex flex-col w-full gap-4 max-w-[40rem] pb-8\"\n      >\n        <PortalBaseSettings\n          :active-portal=\"activePortal\"\n          :is-fetching=\"isFetching\"\n          @update-portal=\"handleUpdatePortal\"\n        />\n        <div class=\"w-full h-px bg-slate-50 dark:bg-slate-800/50\" />\n        <PortalConfigurationSettings\n          :active-portal=\"activePortal\"\n          :is-fetching=\"isFetching\"\n          @update-portal-configuration=\"handleUpdatePortalConfiguration\"\n        />\n        <div class=\"w-full h-px bg-slate-50 dark:bg-slate-800/50\" />\n        <div class=\"flex items-end justify-between w-full gap-4\">\n          <div class=\"flex flex-col gap-2\">\n            <h6 class=\"text-base font-medium text-n-slate-12\">\n              {{\n                t(\n                  'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.DELETE_PORTAL.HEADER'\n                )\n              }}\n            </h6>\n            <span class=\"text-sm text-n-slate-11\">\n              {{\n                t(\n                  'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.DELETE_PORTAL.DESCRIPTION'\n                )\n              }}\n            </span>\n          </div>\n          <Button\n            :label=\"\n              t(\n                'HELP_CENTER.PORTAL_SETTINGS.CONFIGURATION_FORM.DELETE_PORTAL.BUTTON',\n                {\n                  portalName: activePortalName,\n                }\n              )\n            \"\n            color=\"ruby\"\n            class=\"max-w-56 !w-fit\"\n            @click=\"openConfirmDeletePortalDialog\"\n          />\n        </div>\n      </div>\n    </template>\n    <ConfirmDeletePortalDialog\n      ref=\"confirmDeletePortalDialogRef\"\n      :active-portal-name=\"activePortalName\"\n      @delete-portal=\"handleDeletePortal\"\n    />\n  </HelpCenterLayout>\n</template>\n","<script setup>\nimport { useI18n } from 'vue-i18n';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\nimport { useAlert } from 'dashboard/composables';\nimport { useMapGetter, useStore } from 'dashboard/composables/store.js';\nimport PortalSettings from 'dashboard/components-next/HelpCenter/Pages/PortalSettingsPage/PortalSettings.vue';\n\nconst { t } = useI18n();\nconst store = useStore();\nconst route = useRoute();\nconst router = useRouter();\n\nconst { updateUISettings } = useUISettings();\n\nconst portals = useMapGetter('portals/allPortals');\nconst isFetching = useMapGetter('portals/isFetchingPortals');\nconst getPortalBySlug = useMapGetter('portals/portalBySlug');\n\nconst getNextAvailablePortal = deletedPortalSlug =>\n  portals.value?.find(portal => portal.slug !== deletedPortalSlug) ?? null;\n\nconst getDefaultLocale = slug => {\n  return getPortalBySlug.value(slug)?.meta?.default_locale;\n};\n\nconst fetchPortalAndItsCategories = async (slug, locale) => {\n  const selectedPortalParam = { portalSlug: slug, locale };\n  await Promise.all([\n    store.dispatch('portals/index'),\n    store.dispatch('portals/show', selectedPortalParam),\n    store.dispatch('categories/index', selectedPortalParam),\n    store.dispatch('agents/get'),\n    store.dispatch('inboxes/get'),\n  ]);\n};\n\nconst updateRouteAfterDeletion = async deletedPortalSlug => {\n  const nextPortal = getNextAvailablePortal(deletedPortalSlug);\n  if (nextPortal) {\n    const {\n      slug,\n      meta: { default_locale: defaultLocale },\n    } = nextPortal;\n    await fetchPortalAndItsCategories(slug, defaultLocale);\n    router.push({\n      name: 'portals_articles_index',\n      params: { portalSlug: slug, locale: defaultLocale },\n    });\n  } else {\n    router.push({ name: 'portals_new' });\n  }\n};\n\nconst refreshPortalRoute = async (newSlug, defaultLocale) => {\n  // This is to refresh the portal route and update the UI settings\n  // If there is slug change, this will be called to refresh the route and UI settings\n  await fetchPortalAndItsCategories(newSlug, defaultLocale);\n  updateUISettings({\n    last_active_portal_slug: newSlug,\n    last_active_locale_code: defaultLocale,\n  });\n  await router.replace({\n    name: 'portals_settings_index',\n    params: { portalSlug: newSlug },\n  });\n};\n\nconst updatePortalSettings = async portalObj => {\n  const { portalSlug } = route.params;\n  try {\n    const defaultLocale = getDefaultLocale(portalSlug);\n    await store.dispatch('portals/update', {\n      ...portalObj,\n      portalSlug: portalSlug || portalObj?.slug,\n    });\n\n    // If there is a slug change, this will refresh the route and update the UI settings\n    if (portalObj?.slug && portalSlug !== portalObj.slug) {\n      await refreshPortalRoute(portalObj.slug, defaultLocale);\n    }\n    useAlert(\n      t('HELP_CENTER.PORTAL_SETTINGS.API.UPDATE_PORTAL.SUCCESS_MESSAGE')\n    );\n  } catch (error) {\n    useAlert(\n      error?.message ||\n        t('HELP_CENTER.PORTAL_SETTINGS.API.UPDATE_PORTAL.ERROR_MESSAGE')\n    );\n  }\n};\n\nconst deletePortal = async selectedPortalForDelete => {\n  const { slug } = selectedPortalForDelete;\n  try {\n    await store.dispatch('portals/delete', { portalSlug: slug });\n    await updateRouteAfterDeletion(slug);\n    useAlert(\n      t('HELP_CENTER.PORTAL.PORTAL_SETTINGS.DELETE_PORTAL.API.DELETE_SUCCESS')\n    );\n  } catch (error) {\n    useAlert(\n      error?.message ||\n        t('HELP_CENTER.PORTAL.PORTAL_SETTINGS.DELETE_PORTAL.API.DELETE_ERROR')\n    );\n  }\n};\n\nconst handleUpdatePortal = updatePortalSettings;\nconst handleUpdatePortalConfiguration = updatePortalSettings;\nconst handleDeletePortal = deletePortal;\n</script>\n\n<template>\n  <PortalSettings\n    :portals=\"portals\"\n    :is-fetching=\"isFetching\"\n    @update-portal=\"handleUpdatePortal\"\n    @update-portal-configuration=\"handleUpdatePortalConfiguration\"\n    @delete-portal=\"handleDeletePortal\"\n  />\n</template>\n"],"names":["emit","__emit","isPickerOpen","ref","toggleColorPicker","closeTogglePicker","updateColor","e","pickerRef","MAXIMUM_FILE_UPLOAD_SIZE","props","__props","t","useI18n","store","useStore","getters","useStoreGetters","state","reactive","originalState","liveChatWidgets","computed","inbox","rules","required","minLength","helpers","isValidSlug","shouldBeUrl","v$","useVuelidate","nameError","slugError","_a","homePageLinkError","isUpdatingPortal","slug","_b","watch","newVal","logoURL","blobId","hasChanges","handleUpdatePortal","portal","uploadLogoToStorage","file","fileUrl","uploadFile","useAlert","deleteLogo","portalSlug","error","handleAvatarUpload","checkFileSizeLimit","handleAvatarDelete","dialogRef","formState","handleDialogConfirm","__expose","domain","hostURL","helpCenterURL","getHostNameFromURL","subdomainCNAME","addCustomDomainDialogRef","dnsConfigurationDialogRef","updatedDomainAddress","customDomainAddress","updatePortalConfiguration","customDomain","closeDNSConfigurationDialog","route","useRoute","confirmDeletePortalDialogRef","currentPortalSlug","isSwitchingPortal","useMapGetter","activePortal","activePortalName","isLoading","handleUpdatePortalConfiguration","openConfirmDeletePortalDialog","handleDeletePortal","router","useRouter","updateUISettings","useUISettings","portals","isFetching","getPortalBySlug","getNextAvailablePortal","deletedPortalSlug","getDefaultLocale","fetchPortalAndItsCategories","locale","selectedPortalParam","updateRouteAfterDeletion","nextPortal","defaultLocale","refreshPortalRoute","newSlug","updatePortalSettings","portalObj","deletePortal","selectedPortalForDelete"],"mappings":"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"}